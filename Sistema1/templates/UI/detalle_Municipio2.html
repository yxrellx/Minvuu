{% extends "Ui\base.html" %}
{% load static %}

{% block content %}
<head>
    <link rel="stylesheet" href="{% static 'css/dm.css' %}">
</head>

<style>
    /* Estilo global */
body {
    font-family: 'Georgia', 'Times New Roman', Times, serif;
    background-color: #ffffff; /* Fondo claro para la página */
    color: #333; /* Color de texto más oscuro */
}

/* Títulos */
h1 {
    font-size: 2rem;
    color: #000000; /* Color azul para los títulos */
    text-align: center;
    margin-top: 20px;
    margin-bottom: 20px;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

/* Formulario de búsqueda */
form {
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

form .form-control {
    width: 250px; /* Ajustar el tamaño del input */
    margin-right: 10px;
}

form .btn {
    background-color: #000000; /* Botón verde */
    color: white;
}

form .btn:hover {
    background-color: #768379; /* Hover para el botón */
}

/* Estilos para la tabla */
table {
    width: 100%;
    margin-top: 20px;
    margin-bottom: 40px;
    border-collapse: collapse; /* Eliminar espacios entre celdas */
}

/* Cabecera de la tabla */
th {
    background-color: #343a40; /* Fondo oscuro para las cabeceras */
    color: rgb(255, 255, 255);
    padding: 12px 15px;
    text-align: left;
}

td {
    padding: 12px 15px;
    border-bottom: 1px solid #ddd; /* Línea sutil entre filas */
}

tr:nth-child(even) {
    background-color: #f2f2f2; /* Filas alternas con fondo gris claro */
}

/* Estilos para los enlaces */
a {
    text-decoration: none; /* Quitar el subrayado */
    color: #ffffff;
}



/* Botón de Agregar Convenio */
.button {
    padding: 10px 20px;
    background-color: #000000;
    color: rgb(88, 77, 77);
    border-radius: 5px;
    text-decoration: none;
    font-size: 16px;
    margin: 10px 0;
}

.button:hover {
    background-color: #ffffff;
    text-decoration: none;
}

/* Estilo para mensajes de no convenios */
p.p2{
    text-align: center;
    font-size: 1.2rem;
    color: #e74c3c; /* Color rojo */
    font-family: 'Arial', sans-serif; /* Fuente limpia y moderna */
    font-weight: bold; /* Negrita para mayor énfasis */
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); /* Sombra suave para mejorar la legibilidad */
    background-color: rgba(231, 76, 60, 0.1); /* Fondo suave detrás del mensaje */
    padding: 10px; /* Espaciado interno */
    border-radius: 8px; /* Bordes redondeados */
    margin: 20px auto; /* Margen superior e inferior */
    width: 80%; /* Ancho moderado */
    max-width: 600px; /* Max ancho para evitar que sea demasiado grande */
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; /* Efecto de animación */
}

/* Efecto al pasar el ratón */
p.p2:hover {
    transform: scale(1.05); /* Ampliar ligeramente el mensaje */
    box-shadow: 0 4px 10px rgba(231, 76, 60, 0.4); /* Sombra más pronunciada al pasar el ratón */
}

/* Ícono de lupa dentro del campo de búsqueda */
.form-control i {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #999; /* Color del ícono */
}

/* Estilo del campo de búsqueda */
.form-control {
    border-radius: 20px; /* Bordes redondeados */
    background-color: #f8f9fa; /* Fondo claro */
    padding-right: 20px; /* Espacio para el ícono del botón de búsqueda */
}
</style>
<!-- Content -->
<div class="container" style="margin-top: -45px;">

<h1>Municipio {{municipio.nombre}}</h1>

<div class="d-flex justify-content-between align-items-center px-4">
    <!-- Botón a la izquierda -->
    <!-- <button class="btn btn-primary" type="button">Agregar Municipio</button> -->
    <a class="btn btn-light" href="{% url 'addConv2' %}"><i class="fas fa-plus"></i> Agregar convenios</a>

    <!-- Formulario a la derecha -->
    <!-- Search Form -->
    <form class="d-flex" role="search" method="get">
        <input class="form-control me-2" type="search" placeholder="Buscar" name="buscar" aria-label="Search">
    <button class="btn btn-outline-dark" type="submit"><i class="fas fa-search"></i> <!-- Ícono de búsqueda --></button>
</form>
</div>
<hr>
<br>

{% if convenios %}
<table class="table table-dark table-striped">
    <thead class="table-dark">
        <tr>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Total</th>
            <th>Convenio</th>
            <th>Opciones</th>
        </tr>
    </thead>
    <tbody>
        {% for m in convenios %}
        <tr>
            <td>{{ m.nombre }}</td>
            <td>{{ m.descripcion }}</td>
            <td>{{ m.total }}</td>
            <td><a href="{{ m.documento.url }}" target="_blank"><i class="bi bi-eye"></i></a>
            </td>
            <td>
                <a href="{% url 'H_convenio2' id=m.id %}"> <i class="bi bi-clock-history"></i></a>
                <a href="{% url 'actualizar_Conv2' id=m.id %}"><i class="bi bi-pencil"></i></a>
                <a href="{% url 'eliminar_Conv2' id=m.id %}"> <i class="bi bi-trash"></i></a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
    <p class="p2">No se encuentran convenios</p>
{% endif %}

{% endblock %}
