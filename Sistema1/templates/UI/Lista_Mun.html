{% extends "Ui/base.html" %}
{% load static %}
{% block content %}

<!-- Bootstrap CSS link -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJx3+T0uD4g9z4tC6oM2rT5BzvH1r4WjI5dfK3ZxmkE2FhPrYZnG5e7fiXza" crossorigin="anonymous">
<!-- Font Awesome CSS for Icons -->
 <!-- Custom CSS -->


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/ui3.css' %}">
<style>
/* Estilo para mensajes de no convenios */
p.p4{
    text-align: center;
    font-size: 1.2rem;
    color: #e74c3c; /* Color rojo */
    font-family: 'Arial', sans-serif; /* Fuente limpia y moderna */
    font-weight: bold; /* Negrita para mayor énfasis */
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); /* Sombra suave para mejorar la legibilidad */
    background-color: rgba(231, 76, 60, 0.1); /* Fondo suave detrás del mensaje */
    padding: 10px; /* Espaciado interno */
    border-radius: 8px; /* Bordes redondeados */
    margin: 20px auto; /* Margen superior e inferior */
    width: 80%; /* Ancho moderado */
    max-width: 600px; /* Max ancho para evitar que sea demasiado grande */
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; /* Efecto de animación */
}

/* Efecto al pasar el ratón */
p.p4:hover {
    transform: scale(1.05); /* Ampliar ligeramente el mensaje */
    box-shadow: 0 4px 10px rgba(231, 76, 60, 0.4); /* Sombra más pronunciada al pasar el ratón */
}
    /* Contenedor del buscador */
.form-control {
    position: relative;
    padding-left: 30px; /* Espacio para el ícono */
}

/* Ícono de lupa dentro del campo de búsqueda */
.form-control i {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #999; /* Color del ícono */
}

/* Estilo del campo de búsqueda */
.form-control {
    border-radius: 20px; /* Bordes redondeados */
    background-color: #f8f9fa; /* Fondo claro */
    padding-right: 20px; /* Espacio para el ícono del botón de búsqueda */
}

/* Estilo del botón de búsqueda */
.btn-outline-success {
    border-radius: 20px;
    background-color: #28a745;
    color: white;
    border: none;
}

.btn-outline-success:hover {
    background-color: #218838; /* Color del botón al pasar el mouse */
    color: white;
}

/* Estilo para la caja de búsqueda al enfocarse */
.form-control:focus {
    border-color: #28a745; /* Color de borde al enfocar */
    box-shadow: 0 0 5px rgba(40, 167, 69, 0.5); /* Sombra verde */
}
    body {
  font-family: 'Georgia', Times, serif;
}
.table {
  background-color: #000;
  color: white;
  border-collapse: collapse;
}
.table th, .table td {
  border: none; /* Elimina las líneas de las celdas */
  padding: 8px;
}
.table th {
  border-bottom: none; /* Elimina la línea debajo de los encabezados */
}
.form-control {
  position: relative;
}
.form-control i {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
}
.form-control {
  padding-left: 30px;
}
p.p2{
    text-align: center;
    font-family: Georgia, 'Times New Roman', Times, serif;
}
</style>
<!-- Content -->
<div class="container" style="margin-top: -45px;">
    <!-- Breadcrumb -->
    <h6 class="ms-4">Inicio / Programas / Pequeñas Localidades</h6>

    <!-- Title -->
    <h3 class="ms-4">Programa Pequeñas Localidades (PPL)</h3>

    <!-- Description -->
    <p class="mx-5">El Programa para Pequeñas Localidades busca favorecer la equidad territorial en aquellos lugares, 
        de menos de 20 mil habitantes, donde la oferta ministerial y del Estado presentan mayores rezagos. Para ello, fomenta el acceso a infraestructura urbana y habitacional, 
        con la participación activa de las comunidades y los municipios, que son quienes realizan la postulación.</p>
    
    <hr>
    

    <!-- Button and Search Form -->
    <div class="d-flex justify-content-between align-items-center px-4">
        <!-- Add Municipality Button -->
        <a class="btn btn-light" href="{% url 'Agregar_Mun' %}"><i class="fas fa-plus"></i> Agregar Municipio</a>
        
        <!-- Search Form -->
        <form class="d-flex" role="search" method="get">
                <input class="form-control me-2" type="search" placeholder="Buscar" name="buscar" aria-label="Search">
            <button class="btn btn-outline-dark" type="submit"><i class="fas fa-search"></i> <!-- Ícono de búsqueda --></button>
        </form>
    </div>

    <!-- Municipios Table -->
    <div class="mt-3">
        {% if municipios_d %}
            <p class="p2">{{ municipios_d|length }} registros encontrados</p>
            <table class="table table-dark table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>RUT</th>
                        <th>Cuenta</th>
                        <th>Detalles</th>
                        <th>Opciones</th>    
                    </tr>
                </thead>
                <tbody>
                    {% for m in municipios_d %}
                    <tr>
                        <td>{{ m.id }}</td>
                        <td>{{ m.nombre }}</td>
                        <td>{{ m.rut }}</td>
                        <td>{{ m.cuenta }}</td>
                        <td>
                            <a class="btn btn-secondary btn-sm" href="{% url 'md' id=m.id %}">
                                <i class="fas fa-eye"></i> 
                            </a>
                        </td>
                        <td>
                            <a class="btn btn-secondary btn-sm" href="{% url 'actualizar_Mun' id=m.id %}">
                                <i class="fas fa-edit"></i> 
                            </a>
                            <a class="btn btn-secondary btn-sm" href="{% url 'delete_mun' id=m.id %}">
                                <i class="fas fa-trash-alt"></i> 
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="p4">No se encuentran municipios</p>
        {% endif %}
    </div>
</div>

{% endblock %}
